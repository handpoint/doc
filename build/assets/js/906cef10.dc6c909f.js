"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4244],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return k}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),d=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=d(e.components);return n.createElement(o.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=d(a),k=r,c=u["".concat(o,".").concat(k)]||u[k]||m[k]||i;return a?n.createElement(c,l(l({ref:t},p),{},{components:a})):n.createElement(c,l({ref:t},p))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=u;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var d=2;d<i;d++)l[d]=a[d];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},5903:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return s},contentTitle:function(){return o},metadata:function(){return d},toc:function(){return p},default:function(){return u}});var n=a(7462),r=a(3366),i=(a(7294),a(3905)),l=["components"],s={sidebar_position:5,id:"windowstransactions"},o="Transactions",d={unversionedId:"windowstransactions",id:"version-Windows SDK 3.1.4/windowstransactions",title:"Transactions",description:"Sale",source:"@site/windows_versioned_docs/version-Windows SDK 3.1.4/windowstransactions.md",sourceDirName:".",slug:"/windowstransactions",permalink:"/doc/windows/Windows SDK 3.1.4/windowstransactions",tags:[],version:"Windows SDK 3.1.4",sidebarPosition:5,frontMatter:{sidebar_position:5,id:"windowstransactions"},sidebar:"version-Windows SDK 3.1.4/tutorialSidebar",previous:{title:"Integration Guide",permalink:"/doc/windows/Windows SDK 3.1.4/windowsintegrationguide"},next:{title:"Device management",permalink:"/doc/windows/Windows SDK 3.1.4/windowsdevicemanagement"}},p=[{value:"Sale",id:"sale",children:[{value:"Parameters",id:"parameters",children:[],level:4},{value:"Events invoked",id:"events-invoked",children:[],level:4}],level:2},{value:"Sale And Tokenize Card",id:"sale-and-tokenize-card",children:[{value:"Parameters",id:"parameters-1",children:[],level:4},{value:"Events invoked",id:"events-invoked-1",children:[],level:4}],level:2},{value:"Sale Reversal",id:"sale-reversal",children:[{value:"Parameters",id:"parameters-2",children:[],level:4},{value:"Events invoked",id:"events-invoked-2",children:[],level:4}],level:2},{value:"Refund",id:"refund",children:[{value:"Parameters",id:"parameters-3",children:[],level:4},{value:"Events invoked",id:"events-invoked-3",children:[],level:4}],level:2},{value:"Refund reversal",id:"refund-reversal",children:[{value:"Parameters",id:"parameters-4",children:[],level:4},{value:"Events invoked",id:"events-invoked-4",children:[],level:4}],level:2},{value:"Print Receipt",id:"print-receipt",children:[{value:"Parameters",id:"parameters-5",children:[],level:4}],level:2},{value:"Signature result",id:"signature-result",children:[{value:"Parameters",id:"parameters-6",children:[],level:4},{value:"Events invoked",id:"events-invoked-5",children:[],level:4}],level:2},{value:"Tip Adjustment",id:"tip-adjustment",children:[{value:"Parameters",id:"parameters-7",children:[],level:4}],level:2},{value:"Tokenize Card",id:"tokenize-card",children:[{value:"Parameters",id:"parameters-8",children:[],level:4},{value:"Events invoked",id:"events-invoked-6",children:[],level:4}],level:2}],m={toc:p};function u(e){var t=e.components,a=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"transactions"},"Transactions"),(0,i.kt)("h2",{id:"sale"},"Sale"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Sale")),(0,i.kt)("p",null,"A sale initiates a payment operation to the card reader. In it's simplest form you only have to pass the amount and currency but it also accepts a map with extra parameters."),(0,i.kt)("h4",{id:"parameters"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"amount")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"BigInteger")),(0,i.kt)("td",{parentName:"tr",align:null},"Amount of funds to charge - in the minor unit of currency (f.ex. 1000 is 10.00 GBP)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"currency")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("a",{parentName:"td",href:"/doc/windows/Windows%20SDK%203.1.4/windowobjects#1"},(0,i.kt)("em",{parentName:"a"},"Currency"))),(0,i.kt)("td",{parentName:"tr",align:null},"Currency of the charge")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"map")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"Map")),(0,i.kt)("td",{parentName:"tr",align:null},"A map including extra ",(0,i.kt)("a",{parentName:"td",href:"/doc/windows/Windows%20SDK%203.1.4/windowobjects#3"},(0,i.kt)("em",{parentName:"a"},"optional transaction parameters.")))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"device")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("a",{parentName:"td",href:"/doc/windows/Windows%20SDK%203.1.4/windowobjects#2"},(0,i.kt)("em",{parentName:"a"},"Device"))),(0,i.kt)("td",{parentName:"tr",align:null},"This parameter specifies to the system which device you want to use for the operations. If none is supplied the system will attempt to use a default device, if any.")))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Code example")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"//Initiate a sale for 10.00 Pounds\napi.Sale(new BigInteger(1000),Currency.GBP);\n")),(0,i.kt)("h4",{id:"events-invoked"},"Events invoked"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#4"},(0,i.kt)("em",{parentName:"a"},"currentTransactionStatus")))," "),(0,i.kt)("p",null,"Invoked during a transaction, it fetches statuses coming from the card reader (ex : 'waiting for card' or 'waiting for PIN entry')"),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#5"},(0,i.kt)("em",{parentName:"a"},"signatureRequired")))),(0,i.kt)("p",null,"Invoked if card verification requires signature."),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#6"},(0,i.kt)("em",{parentName:"a"},"endOfTransaction")))),(0,i.kt)("p",null,"Invoked when the card reader finishes processing the transaction"),(0,i.kt)("hr",null),(0,i.kt)("p",null," ",(0,i.kt)("strong",{parentName:"p"},"Returns")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to device")))),(0,i.kt)("h2",{id:"sale-and-tokenize-card"},"Sale And Tokenize Card"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"SaleAndTokenizeCard")),(0,i.kt)("p",null,"A sale that returns the tokenized version of the card used if successful. (not available for all acquirers, please check with Handpoint to know if tokenization is supported for your acquirer of choice)"),(0,i.kt)("h4",{id:"parameters-1"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"amount")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"BigInteger")),(0,i.kt)("td",{parentName:"tr",align:null},"Amount of funds to charge - in the minor unit of currency (f.ex. 1000 is 10.00 GBP)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"currency")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("a",{parentName:"td",href:"/doc/windows/Windows%20SDK%203.1.4/windowobjects#1"},(0,i.kt)("em",{parentName:"a"},"Currency"))),(0,i.kt)("td",{parentName:"tr",align:null},"Currency of the charge")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"map")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"Map")),(0,i.kt)("td",{parentName:"tr",align:null},"A map including extra ",(0,i.kt)("a",{parentName:"td",href:"#3"},(0,i.kt)("em",{parentName:"a"},"optional transaction parameters.")))))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Code example")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},'//Initiate a sale for 10.00 in Great British Pounds\napi.SaleAndTokenizeCard(new BigInteger("1000"),Currency.GBP);\n')),(0,i.kt)("h4",{id:"events-invoked-1"},"Events invoked"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#4"},(0,i.kt)("em",{parentName:"a"},"currentTransactionStatus")))),(0,i.kt)("p",null,"Invoked during a transaction, it fetches statuses coming from the card reader (ex : 'waiting for card' or 'waiting for PIN entry')."),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#5"},(0,i.kt)("em",{parentName:"a"},"signatureRequired")))),(0,i.kt)("p",null,"Invoked if card verification requires signature."),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#6"},(0,i.kt)("em",{parentName:"a"},"endOfTransaction")))),(0,i.kt)("p",null,"Invoked when the card reader finishes processing the transaction."),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to device")))),(0,i.kt)("h2",{id:"sale-reversal"},"Sale Reversal"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"SaleReversal")),(0,i.kt)("p",null,"A sale Reversal, also called sale VOID allows the user to reverse a previous sale operation. This operation reverts (if possible) a specific sale identified with a transaction id. In it's simplest form you only have to pass the amount, currency and originalTransactionID but it also accepts a map with extra parameters. Note that transactions can only be reversed within the same day as the transaction was made."),(0,i.kt)("h4",{id:"parameters-2"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"amount")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"BigInteger")),(0,i.kt)("td",{parentName:"tr",align:null},"Amount of funds to charge - in the minor unit of currency (f.ex. 1000 is 10.00 GBP)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"currency")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("a",{parentName:"td",href:"/doc/windows/Windows%20SDK%203.1.4/windowobjects#1"},(0,i.kt)("em",{parentName:"a"},"Currency"))),(0,i.kt)("td",{parentName:"tr",align:null},"Currency of the charge")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"originalTransactionID")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"String")),(0,i.kt)("td",{parentName:"tr",align:null},"As received from the card reader (EFTTransactionID)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"map")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"Map")),(0,i.kt)("td",{parentName:"tr",align:null},"A map including extra ",(0,i.kt)("a",{parentName:"td",href:"#3"},(0,i.kt)("em",{parentName:"a"},"optional transaction parameters.")))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"device")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("a",{parentName:"td",href:"/doc/windows/Windows%20SDK%203.1.4/windowobjects#2"},(0,i.kt)("em",{parentName:"a"},"Device"))),(0,i.kt)("td",{parentName:"tr",align:null},"This parameter specifies to the system which device you want to use for the operations. If none is supplied the system will attempt to use a default device, if any.")))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Code example")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},'//Initiate a reversal for 10.00 Pounds\napi.SaleReversal(new BigInteger(1000),Currency.GBP,"00000000-0000-0000-0000-000000000000");\n')),(0,i.kt)("h4",{id:"events-invoked-2"},"Events invoked"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#4"},(0,i.kt)("em",{parentName:"a"},"currentTransactionStatus")))),(0,i.kt)("p",null,"Invoked during a transaction, it fetches statuses coming from the card reader (ex : 'waiting for card' or 'waiting for PIN entry')"),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#5"},(0,i.kt)("em",{parentName:"a"},"signatureRequired")))),(0,i.kt)("p",null,"Invoked if card verification requires signature."),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#6"},(0,i.kt)("em",{parentName:"a"},"endOfTransaction")))),(0,i.kt)("p",null,"Invoked when the card reader finishes processing the transaction"),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to device")))),(0,i.kt)("h2",{id:"refund"},"Refund"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Refund")),(0,i.kt)("p",null,"A refund initiates a refund operation to the card reader. This operation moves funds from the merchant account to the cardholder\xb4s credit card. In it's simplest form you only have to pass the amount and currency but it also accepts a map with extra parameters."),(0,i.kt)("h4",{id:"parameters-3"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"amount")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"BigInteger")),(0,i.kt)("td",{parentName:"tr",align:null},"Amount of funds to charge - in the minor unit of currency (f.ex. 1000 is 10.00 GBP)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"currency")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("a",{parentName:"td",href:"/doc/windows/Windows%20SDK%203.1.4/windowobjects#1"},(0,i.kt)("em",{parentName:"a"},"Currency"))),(0,i.kt)("td",{parentName:"tr",align:null},"Currency of the charge")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"originalTransactionID")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"String")),(0,i.kt)("td",{parentName:"tr",align:null},"As received from the card reader (EFTTransactionID)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"map")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"Map")),(0,i.kt)("td",{parentName:"tr",align:null},"A map including extra ",(0,i.kt)("a",{parentName:"td",href:"#3"},(0,i.kt)("em",{parentName:"a"},"optional transaction parameters.")))))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Code example")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},'//Initiate a refund for 10.00 in Great British Pounds\napi.Refund(new BigInteger(1000),Currency.GBP,"00000000-0000-0000-0000-000000000000");\n')),(0,i.kt)("h4",{id:"events-invoked-3"},"Events invoked"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#4"},(0,i.kt)("em",{parentName:"a"},"currentTransactionStatus")))," "),(0,i.kt)("p",null,"Invoked during a transaction, it fetches statuses coming from the card reader (ex : 'waiting for card' or 'waiting for PIN entry')"),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#5"},(0,i.kt)("em",{parentName:"a"},"signatureRequired")))," "),(0,i.kt)("p",null,"Invoked if card verification requires signature."),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#6"},(0,i.kt)("em",{parentName:"a"},"endOfTransaction")))),(0,i.kt)("p",null,"Invoked when the card reader finishes processing the transaction"),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to device")))),(0,i.kt)("h2",{id:"refund-reversal"},"Refund reversal"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"RefundReversal")),(0,i.kt)("p",null,"A Refund Reversal, also called Refund VOID allows the merchant to reverse a previous refund operation. This operation reverts (if possible) a specific refund identified with a transaction id. In it's simplest form you only have to pass the amount, currency and originalTransactionID but it also accepts a map with extra parameters. Note that transactions can only be reversed within the same day as the transaction was made."),(0,i.kt)("h4",{id:"parameters-4"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"amount")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"BigInteger")),(0,i.kt)("td",{parentName:"tr",align:null},"Amount of funds to charge - in the minor unit of currency (f.ex. 1000 is 10.00 GBP)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"currency")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("a",{parentName:"td",href:"/doc/windows/Windows%20SDK%203.1.4/windowobjects#1"},(0,i.kt)("em",{parentName:"a"},"Currency"))),(0,i.kt)("td",{parentName:"tr",align:null},"Currency of the charge")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"originalTransactionID")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"String")),(0,i.kt)("td",{parentName:"tr",align:null},"As received from the card reader (EFTTransactionID)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"map")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"Map")),(0,i.kt)("td",{parentName:"tr",align:null},"A map including extra ",(0,i.kt)("a",{parentName:"td",href:"#3"},(0,i.kt)("em",{parentName:"a"},"optional transaction parameters.")))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"device")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("a",{parentName:"td",href:"/doc/windows/Windows%20SDK%203.1.4/windowobjects#2"},(0,i.kt)("em",{parentName:"a"},"Device"))),(0,i.kt)("td",{parentName:"tr",align:null},"This parameter specifies to the system which device you want to use for the operations. If none is supplied the system will attempt to use a default device, if any.")))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Code example")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},'//Initiate a refund reversal for 10.00 in Great British Pounds\napi.RefundReversal(new BigInteger(1000),Currency.GBP,"00000000-0000-0000-0000-000000000000");\n')),(0,i.kt)("h4",{id:"events-invoked-4"},"Events invoked"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#4"},(0,i.kt)("em",{parentName:"a"},"currentTransactionStatus")))),(0,i.kt)("p",null,"Invoked during a transaction, it fetches statuses coming from the card reader (ex : 'waiting for card' or 'waiting for PIN entry')"),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#5"},(0,i.kt)("em",{parentName:"a"},"signatureRequired")))),(0,i.kt)("p",null,"Invoked if card verification requires signature."),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#6"},(0,i.kt)("em",{parentName:"a"},"endOfTransaction")))),(0,i.kt)("p",null,"Invoked when the card reader finishes processing the transaction"),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to device")))),(0,i.kt)("h2",{id:"print-receipt"},"Print Receipt"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"PrintReceipt")),(0,i.kt)("p",null,"Print on demand functionality allowing the merchant to print any HTML formatted receipt. Available for CLOUD connections"),(0,i.kt)("h4",{id:"parameters-5"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"receipt")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"String")),(0,i.kt)("td",{parentName:"tr",align:null},"HTML receipt or url to locate the receipt, it can be found in the response of a financial operation, in the fields merchantReceipt or customerReceipt. The receipt must match the following HTML Print Format")))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Code example")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"// string validReceipt = '...';\nbool success = api.PrintReceipt(validReceipt);\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")," if the receipt was sent to the printer, false otherwise")))),(0,i.kt)("h2",{id:"signature-result"},"Signature result"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"SignatureResult")),(0,i.kt)("p",null,"A signatureRequired event is invoked during transaction when signature verification is needed (f.ex when payment is done with a magstripe card). The merchant is required to ask the cardholder for signature and approve (or disapprove) the signature. signatureResult tells the card reader if the signature was approved by passing true in the method. To disapprove then false is passed. Integrations with PAX or Telpo devices DO NOT need the implementation of this event."),(0,i.kt)("h4",{id:"parameters-6"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"accepted")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"Boolean")),(0,i.kt)("td",{parentName:"tr",align:null},"pass true if merchant accepts customer signature")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"device")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("a",{parentName:"td",href:"/doc/windows/Windows%20SDK%203.1.4/windowobjects#2"},(0,i.kt)("em",{parentName:"a"},"Device"))),(0,i.kt)("td",{parentName:"tr",align:null},"This parameter specifies to the system which device you want to use for the operations. If none is supplied the system will attempt to use a default device, if any.")))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Code example")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"//Receiving a SignatureRequest from the SDK.\npublic void SignatureRequired(SignatureRequest signatureRequest, Device device)\n{\n    //If you accept the signature\n    api.SignatureResult(true);\n}\n")),(0,i.kt)("h4",{id:"events-invoked-5"},"Events invoked"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#4"},(0,i.kt)("em",{parentName:"a"},"currentTransactionStatus")))),(0,i.kt)("p",null,"Invoked during a transaction, it fetches statuses coming from the card reader (ex : 'waiting for card' or 'waiting for PIN entry')"),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#6"},(0,i.kt)("em",{parentName:"a"},"endOfTransaction")))),(0,i.kt)("p",null,"Invoked when the card reader finishes processing the transaction"),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to device")))),(0,i.kt)("h2",{id:"tip-adjustment"},"Tip Adjustment"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"TipAdjustment")),(0,i.kt)("p",null,"A tip adjustment operation allows merchants to adjust the tip amount of a sale transaction before the batch of transactions is settled by the processor at the end of the day.\nNote: This functionality is only available for the restaurant industry in the United States and the processors currently supporting this functionality are TSYS and VANTIV."),(0,i.kt)("h4",{id:"parameters-7"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"tipAmount")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required")," ",(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"BigInteger")),(0,i.kt)("td",{parentName:"tr",align:null},"Tip amount added to the original (base) transaction amount - in the minor unit of currency (f.ex. 1000 is 10.00 GBP)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"originalTransactionID")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required")," ",(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"String")),(0,i.kt)("td",{parentName:"tr",align:null},"Unique id of the original sale transaction as received from the card reader (EFTTransactionID)")))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Code example")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},'//Initiate a tip adjustment for $10.00\nTask<FinancialStatus> result = hapi.TipAdjustment(BigInteger.Parse("1000"), "2bc23910-c3b3-11e6-9e62-07b2a5f091ec");\nFinancialStatus status = result.Result;\nif (status != FinancialStatus.FAILED)\n{\n    if (status == FinancialStatus.AUTHORISED)\n    {\n        //Success!\n    }\n    else\n    {\n        //Declined\n    }\n}\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns")),(0,i.kt)("p",null,"Result of the tip adjustment transaction, this is an asynchronous method that returns a task called ",(0,i.kt)("inlineCode",{parentName:"p"},"<FinancialStatus>"),", the possible values are :"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"FinancialStatus")),(0,i.kt)("td",{parentName:"tr",align:null},"- ",(0,i.kt)("strong",{parentName:"td"},"FinancialStatus.AUTHORISED")," (tip adjustment approved by the processor) ",(0,i.kt)("br",null),"- ",(0,i.kt)("strong",{parentName:"td"},"FinancialStatus.FAILED")," (system error or timeout) ",(0,i.kt)("br",null),"- ",(0,i.kt)("strong",{parentName:"td"},"FinancialStatus.DECLINED")," (tip adjustment declined by the processor)")))),(0,i.kt)("p",null,"If two tip adjustments are sent for the same sale transaction, the second tip adjustment will override the first one. In case the transaction fails (not declined) we recommend that you prompt the user of the POS to retry the adjustment."),(0,i.kt)("h2",{id:"tokenize-card"},"Tokenize Card"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"TokenizeCard")),(0,i.kt)("p",null,"Returns the tokenized version of the card used if successful (not available for all acquirers, please check with Handpoint to know if tokenization is supported for your acquirer of choice)."),(0,i.kt)("h4",{id:"parameters-8"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"map")," ",(0,i.kt)("span",{class:"badge badge--primary"},"Required"),(0,i.kt)("br",null),(0,i.kt)("em",{parentName:"td"},"Map")),(0,i.kt)("td",{parentName:"tr",align:null},"A map including extra optional transaction parameters")))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Code example")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"//Initiates a card tokenization operation.\napi.TokenizeCard();\n")),(0,i.kt)("h4",{id:"events-invoked-6"},"Events invoked"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#4"},(0,i.kt)("em",{parentName:"a"},"currentTransactionStatus")))),(0,i.kt)("p",null,"Invoked during a transaction, it fetches statuses coming from the card reader (ex : 'waiting for card' or 'waiting for PIN entry')."),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#5"},(0,i.kt)("em",{parentName:"a"},"signatureRequired")))),(0,i.kt)("p",null,"Invoked if card verification requires signature."),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/doc/windows/Windows%20SDK%203.1.4/windowsevents#6"},(0,i.kt)("em",{parentName:"a"},"endOfTransaction")))," "),(0,i.kt)("p",null,"Invoked when the card reader finishes processing the transaction."),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,i.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Boolean")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")," if the operation was successfully sent to device")))))}u.isMDXComponent=!0}}]);