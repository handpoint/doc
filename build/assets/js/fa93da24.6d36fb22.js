"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3359],{3905:function(t,e,n){n.d(e,{Zo:function(){return d},kt:function(){return m}});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var s=a.createContext({}),p=function(t){var e=a.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},d=function(t){var e=p(t.components);return a.createElement(s.Provider,{value:e},t.children)},c={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},u=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,s=t.parentName,d=o(t,["components","mdxType","originalType","parentName"]),u=p(n),m=r,k=u["".concat(s,".").concat(m)]||u[m]||c[m]||l;return n?a.createElement(k,i(i({ref:e},d),{},{components:n})):a.createElement(k,i({ref:e},d))}));function m(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,i=new Array(l);i[0]=u;var o={};for(var s in e)hasOwnProperty.call(e,s)&&(o[s]=e[s]);o.originalType=t,o.mdxType="string"==typeof t?t:r,i[1]=o;for(var p=2;p<l;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},1455:function(t,e,n){n.r(e),n.d(e,{frontMatter:function(){return o},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return d},default:function(){return u}});var a=n(7462),r=n(3366),l=(n(7294),n(3905)),i=["components"],o={sidebar_position:8,id:"restendpoints"},s="Endpoints",p={unversionedId:"restendpoints",id:"version-REST API 2.4.0/restendpoints",title:"Endpoints",description:"/initialize",source:"@site/restapi_versioned_docs/version-REST API 2.4.0/restendpoints.md",sourceDirName:".",slug:"/restendpoints",permalink:"/doc/restapi/restendpoints",tags:[],version:"REST API 2.4.0",sidebarPosition:8,frontMatter:{sidebar_position:8,id:"restendpoints"},sidebar:"version-REST API 2.4.0/tutorialSidebar",previous:{title:"Processing Payments Simulation",permalink:"/doc/restapi/restprocessingpayments"},next:{title:"Objects",permalink:"/doc/restapi/restobjects"}},d=[{value:"/initialize",id:"initialize",children:[],level:2},{value:"/transactions",id:"transactions",children:[],level:2},{value:"/transaction-result/{transactionResultId}",id:"transaction-resulttransactionresultid",children:[],level:2},{value:"Transaction Result Recovery",id:"transaction-result-recovery",children:[],level:2}],c={toc:d};function u(t){var e=t.components,n=(0,r.Z)(t,i);return(0,l.kt)("wrapper",(0,a.Z)({},c,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"endpoints"},"Endpoints"),(0,l.kt)("h2",{id:"initialize"},"/initialize"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Initialize")),(0,l.kt)("p",null,"Initializes the REST API client and returns the list of payment terminals associated with the merchant account"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Parameters")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,l.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Header: ApiKeyCloud")," ",(0,l.kt)("span",{class:"badge badge--primary"},"Required"),"    ",(0,l.kt)("br",null),(0,l.kt)("em",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Request Header used to identify the merchant")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Returns")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,l.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Devices"),(0,l.kt)("td",{parentName:"tr",align:null},"List of ",(0,l.kt)("a",{parentName:"td",href:"/doc/restapi/restobjects#device"},"Device")," objects")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Code Example")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'Operation executed using CLI tool CURL:\nREQUEST:\n  curl -X GET \\\n   -H "ApiKeyCLoud: MeRcHaNt-ApIkEy" \\\n   "https://cloud.handpoint.com/initialize"\n\nRESPONSE:\n Code 200 -> Body:\n  [\n    {\n      "merchant_id_alpha": "merchantID",\n      "serial_number": "082104578",\n      "customerReference": "op15248",\n      "terminal_type": "PAXA920"\n    }\n  ]\n')),(0,l.kt)("h2",{id:"transactions"},"/transactions"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Transactions")),(0,l.kt)("p",null,"POST endpoint used to execute a financial operation"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Parameters")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,l.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Header: ApiKeyCloud")," ",(0,l.kt)("span",{class:"badge badge--primary"},"Required"),"   ",(0,l.kt)("br",null),(0,l.kt)("em",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Request Header used to identify the merchant")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Request Body: Transaction Request")," ",(0,l.kt)("span",{class:"badge badge--primary"},"Required"),"  ",(0,l.kt)("br",null),(0,l.kt)("em",{parentName:"td"},"TransactionRequest")),(0,l.kt)("td",{parentName:"tr",align:null},"Object containing the transaction information")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Returns")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Response"),(0,l.kt)("th",{parentName:"tr",align:null},"Response Code"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"Transaction Accepted")),(0,l.kt)("td",{parentName:"tr",align:null},"Response code 202 is received if the transaction has been successfully sent to the terminal.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"BadRequest DeviceIsBusy Error")),(0,l.kt)("td",{parentName:"tr",align:null},"Response code 400 with error 1001. Wait until the end of the current transaction to be able to execute the next operation")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"BadRequest DeviceNotResponding Error")),(0,l.kt)("td",{parentName:"tr",align:null},"Response code 400 with error 1002. The device is not responding, verify the device is online and retry in a few seconds.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"BadRequest CancelOperationNotAllowed Error")),(0,l.kt)("td",{parentName:"tr",align:null},"Response code 400 with error 1003. Operation type stopCurrentTransaction cannot be executed because the terminal is processing the transaction and it can not be stopped.")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Code Example")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'Operation executed using CLI tool CURL:\nREQUEST:\n  curl -X GET \\\n   -H "ApiKeyCLoud: MeRcHaNt-ApIkEy" \\\n   "https://cloud.handpoint.com/initialize"\n\nRESPONSE:\n Code 200 -> Body:\n  [\n    {\n      "merchant_id_alpha": "merchantID",\n      "serial_number": "082104578",\n      "customerReference": "op15248",\n      "terminal_type": "PAXA920"\n    }\n  ]\n')),(0,l.kt)("h2",{id:"transaction-resulttransactionresultid"},"/transaction-result/{transactionResultId}"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"TransactionResultRetrieval")),(0,l.kt)("p",null,"GET endpoint used to retrieve transaction results. ",(0,l.kt)("strong",{parentName:"p"},"IMPORTANT")," Feature only compatible with Handpoint App v3.3.0 and above."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Parameters")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,l.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Header: ApiKeyCloud")," ",(0,l.kt)("span",{class:"badge badge--primary"},"Required"),"   ",(0,l.kt)("br",null),(0,l.kt)("em",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Request Header used to identify the merchant")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"Path parameter: transactionResultId")," ",(0,l.kt)("span",{class:"badge badge--primary"},"Required"),"   ",(0,l.kt)("br",null),(0,l.kt)("em",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"Custom transaction result Id provided in the response when a Transaction was triggered without callbackUrl.")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Returns")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Response"),(0,l.kt)("th",{parentName:"tr",align:null},"Response Code"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"No Content")),(0,l.kt)("td",{parentName:"tr",align:null},"Response code 204. transactionResultId found in the database but there is no transaction result associated yet. This status will be retrieved while the transaction is ongoing and the transaction result has not been delivered yet.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"OK")),(0,l.kt)("td",{parentName:"tr",align:null},"Response code 200 + Transaction Result. transactionResultId found in the database and the associated Transaction Result object")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"Not Found")),(0,l.kt)("td",{parentName:"tr",align:null},"Response code 404. transactionResultId NOT found in the database")))),(0,l.kt)("h2",{id:"transaction-result-recovery"},"Transaction Result Recovery"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"TransactionResultRecovery")),(0,l.kt)("p",null," The terminal has a transaction recovery loop to automatically send back the pending TransactionResult to the callback URL in case it becomes unreachable (network issue or server down)."),(0,l.kt)("p",null," For the first 100 seconds after a transaction is completed, a background thread will attempt to deliver the result every 5 seconds. If the server is still unreachable after the first 100 seconds, the retry loop turns into an exponential increment to the power of 2 (8s-16s-32s etc\u2026).\nThe recovery loop is reinitialized every time the Handpoint application is restarted or the startRecovery method is triggered. The Transaction Result received through the transaction recovery loop will have the ",(0,l.kt)("strong",{parentName:"p"},"recoveredTransaction")," field set to ",(0,l.kt)("strong",{parentName:"p"},"true"),"."),(0,l.kt)("p",null," All 2XXs http response codes from the callbackUrl are valid to notify the device of a successful delivery of the result."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Returns")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,l.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Transaction Result"),(0,l.kt)("td",{parentName:"tr",align:null},"The ",(0,l.kt)("a",{parentName:"td",href:"/doc/restapi/restobjects#transaction-result-object"},"Transaction Result")," is delivered to the callback Url from the ",(0,l.kt)("a",{parentName:"td",href:"/doc/restapi/restobjects#transaction-request-object"},"Transaction Request"),".")))))}u.isMDXComponent=!0}}]);